window.__require=function e(i,t,o){function c(s,r){if(!t[s]){if(!i[s]){var h=s.split("/");if(h=h[h.length-1],!i[h]){var a="function"==typeof __require&&__require;if(!r&&a)return a(h,!0);if(n)return n(h,!0);throw new Error("Cannot find module '"+s+"'")}s=h}var d=t[s]={exports:{}};i[s][0].call(d.exports,function(e){return c(i[s][1][e]||e)},d,d.exports,e,i,t,o)}return t[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<o.length;s++)c(o[s]);return c}({game:[function(e,i){"use strict";cc._RF.push(i,"1cb41ijSfVC35WXg1x2qkTc","game"),cc.Class({extends:cc.Component,properties:{scoreLable:cc.Label,playerNode:cc.Node,enemyNode:cc.Node,boomNode:cc.Node},onLoad:function(){this.score=0,this.placePlayer(),this.placeEnemy(),this.node.on("touchstart",this.fire,this)},onDestroy:function(){this.node.off("touchstart",this.fire,this)},update:function(){this.playerNode.position.sub(this.enemyNode.position).mag()<this.playerNode.width/2+this.enemyNode.width/2&&(this.enemyNode.active=!1,this.boom(this.enemyNode.position,this.enemyNode.color),this.enemyNode.stopAction(this.enemyAction),this.playerNode.stopAction(this.playerAction),this.scoreLable.string=++this.score,this.placePlayer(),this.placeEnemy())},placeEnemy:function(){var e=cc.winSize.width/2-this.enemyNode.width/2,i=Math.random()*cc.winSize.height/4,t=1.6+.5*Math.random();this.enemyNode.active=!0,this.enemyNode.x=0,this.enemyNode.y=cc.winSize.height/3-this.enemyNode.height/2;var o=cc.repeatForever(cc.sequence(cc.moveTo(t,-e,i),cc.moveTo(t,e,i)));this.enemyAction=this.enemyNode.runAction(o)},placePlayer:function(){var e=this;this.isFire=!1,this.playerNode.active=!0,this.playerNode.y=-cc.winSize.height/4;var i=cc.sequence(cc.moveTo(10,cc.v2(this.playerNode.x,-(cc.winSize.height/2-this.playerNode.height))),cc.callFunc(function(){e.die()}));this.playerAction=this.playerNode.runAction(i)},fire:function(){var e=this;if(this.playerNode.stopAction(this.playerAction),!this.isFire){this.isFire=!0,console.log("\u53d1\u5c04");var i=cc.sequence(cc.moveTo(.6,cc.v2(0,cc.winSize.height/2)),cc.callFunc(function(){e.die()}));this.playerAction=this.playerNode.runAction(i)}},die:function(){console.log("\u7ed3\u675f"),this.playerNode.active=!1,this.boom(this.playerNode.position,this.playerNode.color),setTimeout(function(){cc.director.loadScene("game")},1e3)},boom:function(e,i){this.boomNode.setPosition(e);var t=this.boomNode.getComponent(cc.ParticleSystem);void 0!==i&&(t.starColor=t.endColor=i),t.resetSystem()}}),cc._RF.pop()},{}]},{},["game"]);